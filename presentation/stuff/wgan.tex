\usetikzlibrary{arrows}
\usetikzlibrary{fit}

\definecolor{beige}{rgb}{0.93,0.92,0.88}

\tikzset{
	pics/conv/.style n args={5}{
		code = {
			\draw[draw=black, fill=beige] (#1, #2) rectangle ++ (1, 3) node[rotate=90, pos=0.5] {\large $#3 \times #4 \times #3$};
			\node[below] at (#1+0.5, #2+3.1) {\large #5};
		}
	},
	pics/text/.style n args={5}{
		code = {
			\draw[draw=black, fill=beige] (#1, #2) rectangle ++ (1, 3) node[rotate=#4, pos=0.5] {\huge #3};
			\node[below] at (#1+0.5, #2+3.1) {\large #5};
		}
	},
	trap/.style = {
		draw,
		text width=3cm,
		align=flush center, 
		trapezium, 
		rotate=90, 
		minimum height=4cm, 
		minimum width=0cm, 
		trapezium stretches, 
		fill=beige
	}
}

\begin{tikzpicture}[scale=0.36, line/.style={>=latex}, every node/.style={scale=0.36}, y=-1cm] 


	\pic{text={0}		{28.5}	{$z\vphantom{xyt}$}	{0}	{}};
	
	\draw[->] (1, 30) -- (3, 30);
	
	%\node[trap, trapezium angle=155] at (5, 30) {\Large Encoder};
	\node[trap, trapezium angle=25] at (5, 30) {\Large Decoder};
	
	\draw [
	    thick,
	    decoration={
		brace,
		amplitude=5pt,
		raise=32.5pt
	    },
	    decorate
	] (2.75, 30) -- (7.25, 30);
	
	\node [] at (5, 25.75) {\Large Generator};


	\draw[->] (7, 30) -- (9, 30);
	
	\pic{text={9}		{28.5}	{$\hat x$}	{0}	{}};
	
	\draw[->] (10, 30) -- (12, 28);
	
	\pic{text={9}		{22.5}	{$x$}	{0}	{}};
	
	\draw[->] (10, 24) -- (12, 26);

	\node [rotate=90] at (11, 27) {\Large alternating};
	
	\node[trap, trapezium angle=155] at (14, 27) {\Large Critic};
	
	\draw[->] (16, 27) -- (18, 27);
	
	\pic{text={18}		{25.5}	{\Large $D(x)$}	{90}	{}};
	

\end{tikzpicture}

\vspace{30pt}
